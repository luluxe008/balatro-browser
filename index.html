<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Balatro on the Web</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://pound-os.neocities.org/balatro.css" rel="stylesheet">
    <script src="lib/data.js"></script>
    <script src="lib/FileSaver.min.js"></script>
    <script src="lib/jszip.min.js"></script>
    <script src="lib/toml.js"></script>
    <!--
    <script src="renderVersionList.js"></script>
    <script src="mods.js"></script>
    <script src="cache.js"></script>
    -->
    <script src="patches.js"></script>
    <script src="runVersion.js"></script>

    <!--<script src="loadVersion.js"></script>-->
    <script src="build.js"></script>
    <script src="app.js"></script>
  </head>
  <body style="display: flex;" class="center">
    <div class="container" >

        <div class="outer-desc">
          <h1>Loads executable</h1>

          <div class="inner-desc">
              <input type="file" id="exeInput"><br>
          </div>
 

        </div>
        <div style="display: flex;" class="center">
          <button id="myBtn">PLAY</button>
        </div>

        <div class="outer-desc">
            <h1 class="center">Download</h1>
            <div class="inner-desc">
                <p>Click here to download the <a download="patched.zip" href="game/patched.zip">game</a></p>
            </div>
        </div>
        
    </div>
      <script>
        async function play(){
            const file_input = document.getElementById("exeInput")

          if (file_input.files.length == 1){
            console.log("trying to load game...");
            let game = await buildFromSource(file_input.files[0], {});
            console.log(game)
            await play_game_from_blob(game)
          }else{
            showError("You didn't load the balatro version")
          }
          
        }

        document.getElementById("myBtn").onclick = () =>{
          play()
        }
      </script>
    </div>
  </body>
</html>
